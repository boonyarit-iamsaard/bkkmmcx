<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
            integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
            crossorigin="anonymous"
    />
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'IBM Plex Sans', sans-serif;
            font-size: 0.875rem;
            font-weight: lighter;
        }

        th {
            font-weight: normal;
        }
    </style>
    <title>Dashboard</title>
</head>
<body>
<div class="container">
    <h2 class="text-center">Dashboard</h2>
    <div class="chart-container">
        <canvas id="graphCanvas"></canvas>
    </div>
    {% include 'totalflt.html' %}
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script
        src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"
></script>
<script
        src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"
></script>
<script
        src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
        integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
        crossorigin="anonymous"
></script>
<script>
    let airline = [];
    let totalFlt = [];
    let set = [];
    let j = 0;
    let c;

    let bgColor = [
        "rgba(255, 99, 132, 0.5)",
        "rgba(54, 162, 235, 0.5)",
        "rgba(255, 206, 86, 0.5)",
        "rgba(75, 192, 192, 0.5)",
        "rgba(153, 102, 255, 0.5)",
        "rgba(255, 159, 64, 0.5)",
    ];

    let bdColor = [
        "rgba(255, 99, 132, 1)",
        "rgba(54, 162, 235, 1)",
        "rgba(255, 206, 86, 1)",
        "rgba(75, 192, 192, 1)",
        "rgba(153, 102, 255, 1)",
        "rgba(255, 159, 64, 1)",
    ];

    {% for airline in data.0 %}
        totalFlt.push([])
        {% for i in range(1, 13) %}
            totalFlt[j].push({{ airline[i] }})
        {% endfor %}
        j++
        airline.push('{{ airline.0 }}')
    {% endfor %}

    for (let i = 0; i < airline.length; i++) {
        c = {
            label: airline[i],
            data: totalFlt[i],
            backgroundColor: bgColor[i],
            borderColor: bdColor[i],
            borderWidth: 1,
        };
        set.push(c);
    }

    let ctx = document
        .getElementById("graphCanvas")
        .getContext("2d");
    let myChart = new Chart(ctx, {
        type: "bar",
        data: {
            labels: [
                "JAN",
                "FEB",
                "MAR",
                "APR",
                "MAY",
                "JUN",
                "JUL",
                "AUG",
                "SEP",
                "OCT",
                "NOV",
                "DEC",
            ],
            datasets: set,
        },
    });
</script>
</body>
</html>
